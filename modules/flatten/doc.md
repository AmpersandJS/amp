Flattens a nested array (the nesting can be to any depth). If you pass `shallow`, the array will only be flattened a single level.
